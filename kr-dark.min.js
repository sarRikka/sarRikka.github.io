(()=>{const t=document.documentElement,r="user-color-scheme",c="data-user-color-scheme",e=document.getElementById("darkmode-switch"),l=e=>{try{return localStorage.getItem(e)}catch(e){return null}},a=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=()=>{t.removeAttribute(c),(e=>{try{localStorage.removeItem(e)}catch(e){}})(r)},d={dark:!0,light:!0},m=e=>{e=e||l(r);e!==a()&&d[e]?t.setAttribute(c,e):o()},n={dark:"light",light:"dark"},h=()=>{let e=l(r);if(d[e])e=n[e];else{if(null!==e)return;e=n[a()]}return((e,t)=>{try{localStorage.setItem(e,t)}catch(e){}})(r,e),e};m(),e.addEventListener("click",()=>{m(h())})})();